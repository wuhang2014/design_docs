<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36" version="28.2.8">
  <diagram name="第 1 页" id="ZXphobQNCvXr_iCqhj3R">
    <mxGraphModel dx="1318" dy="743" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="kt1h7CT-YsFWaCdLyLbb-1" value="«interface»&lt;br&gt;&lt;b&gt;vllm.engine.protocol.EngineClient&lt;/b&gt;" style="html=1;whiteSpace=wrap;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="295" y="250" width="210" height="50" as="geometry" />
        </mxCell>
        <mxCell id="kt1h7CT-YsFWaCdLyLbb-2" value="Proxy" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="180" y="359" width="440" height="360" as="geometry" />
        </mxCell>
        <mxCell id="kt1h7CT-YsFWaCdLyLbb-3" value="+ proxy_addr: str&lt;div&gt;+&amp;nbsp;encode_addr_list: list[str]&lt;br&gt;+&amp;nbsp;pd_addr_list: list[str]&lt;/div&gt;&lt;div&gt;+&amp;nbsp;model_name: str&lt;/div&gt;&lt;div&gt;+&amp;nbsp;router: type[RoutingInterface] = RandomRouter&lt;/div&gt;&lt;div&gt;+&amp;nbsp;enable_health_monitor = False&lt;br&gt;+&amp;nbsp;health_check_interval = 10&lt;br&gt;+&amp;nbsp;health_threshold = 3&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="kt1h7CT-YsFWaCdLyLbb-2" vertex="1">
          <mxGeometry y="26" width="440" height="124" as="geometry" />
        </mxCell>
        <mxCell id="kt1h7CT-YsFWaCdLyLbb-4" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;labelBackgroundColor=none;" parent="kt1h7CT-YsFWaCdLyLbb-2" vertex="1">
          <mxGeometry y="150" width="440" height="8" as="geometry" />
        </mxCell>
        <mxCell id="kt1h7CT-YsFWaCdLyLbb-5" value="+ &lt;b&gt;generate&lt;/b&gt;(&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;self,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;prompt: PromptType,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;sampling_params: SamplingParams,&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;request_id: Optional[str] = None,&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;lora_request: Optional[LoRARequest] = None,&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;trace_headers: Optional[Mapping[str, str]] = None,&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;prompt_adapter_request: Optional[PromptAdapterRequest] = None,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;priority: int = 0,&lt;br&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;data_parallel_rank: Optional[int] = None,&lt;/div&gt;&lt;div&gt;): None&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;b&gt;check_health_disagg_worker&lt;/b&gt;(self, server_type: ServerType, id: int)&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;: None&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="kt1h7CT-YsFWaCdLyLbb-2" vertex="1">
          <mxGeometry y="158" width="440" height="202" as="geometry" />
        </mxCell>
        <mxCell id="kt1h7CT-YsFWaCdLyLbb-7" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;labelBackgroundColor=none;fontColor=default;" parent="1" source="kt1h7CT-YsFWaCdLyLbb-2" target="kt1h7CT-YsFWaCdLyLbb-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="260" y="290" as="sourcePoint" />
            <mxPoint x="420" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-1" value="&amp;lt;&amp;lt;enumeration&amp;gt;&amp;gt;&lt;br&gt;&lt;b&gt;ECConnectorRole&lt;/b&gt;" style="swimlane;fontStyle=0;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;html=1;whiteSpace=wrap;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="60" y="930" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-2" value="SCHEDULER = 0&lt;div&gt;WORKER = 1&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-1" vertex="1">
          <mxGeometry y="40" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-3" value="&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;ECConnectorMetadata&lt;/b&gt;" style="html=1;whiteSpace=wrap;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="280" y="960" width="150" height="50" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-6" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;labelBackgroundColor=none;fontColor=default;exitX=0.25;exitY=0;exitDx=0;exitDy=0;" parent="1" source="_NINaLvxvfsO1sP4Jfxg-5" target="uLgxI4TP7Eiefr3ADJuU-1" edge="1">
          <mxGeometry x="-1" y="-17" relative="1" as="geometry">
            <mxPoint x="30" y="1030" as="sourcePoint" />
            <mxPoint x="235" y="1060" as="targetPoint" />
            <mxPoint x="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-7" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;labelBackgroundColor=none;fontColor=default;entryX=0.5;entryY=1;entryDx=0;entryDy=0;exitX=0.75;exitY=0;exitDx=0;exitDy=0;" parent="1" source="_NINaLvxvfsO1sP4Jfxg-5" target="uLgxI4TP7Eiefr3ADJuU-3" edge="1">
          <mxGeometry x="-0.8889" y="-15" relative="1" as="geometry">
            <mxPoint x="400" y="1030" as="sourcePoint" />
            <mxPoint x="235" y="1060" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-8" value="ECMooncakeStorageConnector" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="70" y="1272" width="330" height="230" as="geometry">
            <mxRectangle x="155" y="1150" width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-9" value="+ store&amp;nbsp;: ECMooncakeStore" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-8" vertex="1">
          <mxGeometry y="26" width="330" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-10" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-8" vertex="1">
          <mxGeometry y="52" width="330" height="8" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-11" value="+ &lt;b&gt;start_load_caches&lt;/b&gt;(self, encoder_cache, **kwargs): None&lt;div&gt;+&amp;nbsp;&lt;b&gt;save_caches&lt;/b&gt;(self, encoder_cache, mm_hash, **kwargs): None&lt;/div&gt;&lt;div&gt;+ &lt;b&gt;wait_for_save&lt;/b&gt;(self): None&lt;/div&gt;&lt;div&gt;+ &lt;b&gt;has_caches&lt;/b&gt;(self,&amp;nbsp;request: &quot;Request&quot;):&amp;nbsp;list[bool]&lt;/div&gt;&lt;div&gt;+ &lt;b&gt;update_state_after_alloc&lt;/b&gt;(self, request: &quot;Request&quot;, index: int): None&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;b&gt;build_connector_meta&lt;/b&gt;(self,&amp;nbsp;scheduler_output: SchedulerOutput):&amp;nbsp;ECConnectorMetadata&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-8" vertex="1">
          <mxGeometry y="60" width="330" height="170" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-13" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;labelBackgroundColor=none;fontColor=default;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" parent="1" source="uLgxI4TP7Eiefr3ADJuU-8" target="_NINaLvxvfsO1sP4Jfxg-5" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint y="1120" as="sourcePoint" />
            <mxPoint x="235" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-14" value="ECMooncakeStorageConnectorMetadata" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="480" y="1210" width="270" height="80" as="geometry">
            <mxRectangle x="155" y="1150" width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-15" value="+ mm_datas: list[MMMeta]" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-14" vertex="1">
          <mxGeometry y="26" width="270" height="24" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-16" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-14" vertex="1">
          <mxGeometry y="50" width="270" height="8" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-17" value="+ &lt;b&gt;add_mm_data&lt;/b&gt;(self, mm_data: MMMeta)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-14" vertex="1">
          <mxGeometry y="58" width="270" height="22" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-18" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;labelBackgroundColor=none;fontColor=default;" parent="1" source="uLgxI4TP7Eiefr3ADJuU-8" target="uLgxI4TP7Eiefr3ADJuU-14" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="150" y="1398" as="sourcePoint" />
            <mxPoint x="310" y="1398" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-23" value="ECMooncakeStore" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="1" vertex="1">
          <mxGeometry x="480" y="1332" width="270" height="170" as="geometry">
            <mxRectangle x="155" y="1150" width="210" height="30" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-24" value="+ store&amp;nbsp;: MooncakeDistributedStore&lt;div&gt;+ config :&amp;nbsp;MooncakeStoreConfig&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-23" vertex="1">
          <mxGeometry y="26" width="270" height="44" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-25" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-23" vertex="1">
          <mxGeometry y="70" width="270" height="8" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-26" value="+ &lt;b&gt;batch_exists&lt;/b&gt;(self, keys: list[str]): list[bool]&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+&amp;nbsp;&lt;b&gt;batch_get&lt;/b&gt;(self, keys: list[str]):&amp;nbsp;list[torch.Tensor | None]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;b&gt;batch_put&lt;/b&gt;(self, keys: list[str], tensors: list[torch.Tensor]):&amp;nbsp;None&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;labelBackgroundColor=none;" parent="uLgxI4TP7Eiefr3ADJuU-23" vertex="1">
          <mxGeometry y="78" width="270" height="92" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-27" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;orthogonal=0;labelBackgroundColor=none;fontColor=default;" parent="1" source="uLgxI4TP7Eiefr3ADJuU-14" target="uLgxI4TP7Eiefr3ADJuU-3" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="670" y="1160" as="sourcePoint" />
            <mxPoint x="830" y="1160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-28" value="Use" style="endArrow=open;endSize=12;dashed=1;html=1;rounded=0;labelBackgroundColor=none;fontColor=default;" parent="1" source="uLgxI4TP7Eiefr3ADJuU-8" target="uLgxI4TP7Eiefr3ADJuU-23" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="430" y="1393" as="sourcePoint" />
            <mxPoint x="510" y="1360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-29" value="&lt;b&gt;MMMeta&lt;/b&gt;" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;fillColor=none;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="545" y="946" width="140" height="52" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-30" value="+ mm_hash: str" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="uLgxI4TP7Eiefr3ADJuU-29" vertex="1">
          <mxGeometry y="26" width="140" height="26" as="geometry" />
        </mxCell>
        <mxCell id="uLgxI4TP7Eiefr3ADJuU-33" value="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=0;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;" parent="1" source="uLgxI4TP7Eiefr3ADJuU-14" target="uLgxI4TP7Eiefr3ADJuU-29" edge="1">
          <mxGeometry x="-0.7849" y="-15" relative="1" as="geometry">
            <mxPoint x="740" y="1090" as="sourcePoint" />
            <mxPoint x="810" y="1120" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NINaLvxvfsO1sP4Jfxg-1" value="ECConnectorModelRunnerMixin" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="1664" width="590" height="134" as="geometry" />
        </mxCell>
        <mxCell id="_NINaLvxvfsO1sP4Jfxg-3" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=1;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="_NINaLvxvfsO1sP4Jfxg-1" vertex="1">
          <mxGeometry y="26" width="590" height="8" as="geometry" />
        </mxCell>
        <mxCell id="_NINaLvxvfsO1sP4Jfxg-4" value="+ &lt;b&gt;maybe_save_ec_to_connector&lt;/b&gt;(encoder_cache: dict[str, torch.Tensor], mm_hash: str):&lt;div&gt;+&amp;nbsp;&lt;b&gt;get_finished_ec_transfers&lt;/b&gt;(scheduler_output: &quot;SchedulerOutput&quot;):&amp;nbsp;tuple[set[str] | None, set[str] | None]&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;b&gt;maybe_get_ec_connector_output&lt;/b&gt;(scheduler_output: &quot;SchedulerOutput&quot;, encoder_cache: dict[str, torch.Tensor], **kwargs):&amp;nbsp;AbstractContextManager[ECConnectorOutput | None]&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;b&gt;maybe_wait_for_ec_save&lt;/b&gt;()&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=1;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;movable=1;resizable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="_NINaLvxvfsO1sP4Jfxg-1" vertex="1">
          <mxGeometry y="34" width="590" height="100" as="geometry" />
        </mxCell>
        <mxCell id="_NINaLvxvfsO1sP4Jfxg-5" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;span style=&quot;font-weight: 700;&quot;&gt;ECConnectorBase&lt;/span&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ role: ECConnectorRole&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;&lt;b&gt;role&lt;/b&gt;(self): ECConnectorRole&lt;/p&gt;&lt;div&gt;+&amp;nbsp;&lt;b&gt;is_producer&lt;/b&gt;(self): bool&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;b&gt;bind_connector_metadata&lt;/b&gt;(self, connector_metadata: ECConnectorMetadata): None&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;b&gt;clear_connector_metadata&lt;/b&gt;(self): None&lt;/div&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" parent="1" vertex="1">
          <mxGeometry x="70" y="1070" width="330" height="150" as="geometry" />
        </mxCell>
        <mxCell id="_NINaLvxvfsO1sP4Jfxg-7" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;NPUModelRunner&lt;/b&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="465" y="1560" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_NINaLvxvfsO1sP4Jfxg-9" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;GPUModelRunner&lt;/b&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="1" vertex="1">
          <mxGeometry x="185" y="1560" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="_NINaLvxvfsO1sP4Jfxg-14" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;" parent="1" source="_NINaLvxvfsO1sP4Jfxg-9" target="_NINaLvxvfsO1sP4Jfxg-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="40" y="1630" as="sourcePoint" />
            <mxPoint x="200" y="1630" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="_NINaLvxvfsO1sP4Jfxg-15" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;" parent="1" source="_NINaLvxvfsO1sP4Jfxg-7" target="_NINaLvxvfsO1sP4Jfxg-1" edge="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="380" y="1610" as="sourcePoint" />
            <mxPoint x="453" y="1684" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-1" value="Proxy" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="90" y="2180" width="100" height="570" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-2" value="Scheduler [E]" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="230" y="2180" width="100" height="570" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-3" value="Client" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="2230" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-11" value="Worker [E]" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="350" y="2180" width="100" height="570" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-28" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="wCXgad1K8o2VB7u_Wapi-11">
          <mxGeometry x="45" y="180" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-33" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="wCXgad1K8o2VB7u_Wapi-11">
          <mxGeometry x="49" y="202" width="10" height="28" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-34" value="_execute_mm_encoder" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" edge="1" target="wCXgad1K8o2VB7u_Wapi-33" parent="wCXgad1K8o2VB7u_Wapi-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="54" y="191" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="84" y="221" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-12" value="EC Connector [E]" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="470" y="2180" width="100" height="570" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-13" value="Distributed Cache Pool" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="986" y="2180" width="100" height="570" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-14" value="Scheduler [PD]" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="589" y="2180" width="100" height="570" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-15" value="Worker&amp;nbsp;[PD]" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="709" y="2180" width="100" height="570" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-50" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="wCXgad1K8o2VB7u_Wapi-15">
          <mxGeometry x="45" y="360" width="10" height="160" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-51" value="" style="html=1;points=[[0,0,0,0,5],[0,1,0,0,-5],[1,0,0,0,5],[1,1,0,0,-5]];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="wCXgad1K8o2VB7u_Wapi-15">
          <mxGeometry x="50" y="450" width="10" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-52" value="execute_model" style="html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;edgeStyle=orthogonalEdgeStyle;curved=0;rounded=0;" edge="1" target="wCXgad1K8o2VB7u_Wapi-51" parent="wCXgad1K8o2VB7u_Wapi-15">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="55" y="390" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="55" y="440" />
              <mxPoint x="85" y="440" />
              <mxPoint x="85" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-16" value="EC Connector&amp;nbsp;[PD]" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};" vertex="1" parent="1">
          <mxGeometry x="829" y="2180" width="100" height="570" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-17" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;" edge="1" parent="1" source="wCXgad1K8o2VB7u_Wapi-3" target="wCXgad1K8o2VB7u_Wapi-1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="70" y="2270" as="sourcePoint" />
            <mxPoint x="230" y="2270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-19" value="generate" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-17">
          <mxGeometry x="-0.3073" y="-2" relative="1" as="geometry">
            <mxPoint x="9" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-18" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="140" y="2290" as="sourcePoint" />
            <mxPoint x="280" y="2290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-20" value="generate request" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-18">
          <mxGeometry x="-0.0143" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-21" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;" edge="1" parent="1" target="wCXgad1K8o2VB7u_Wapi-12">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="280" y="2320" as="sourcePoint" />
            <mxPoint x="440" y="2320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-22" value="build_connector_metadata" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-21">
          <mxGeometry x="-0.2651" y="1" relative="1" as="geometry">
            <mxPoint x="32" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-23" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;" edge="1" parent="1" target="wCXgad1K8o2VB7u_Wapi-28">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="280" y="2360" as="sourcePoint" />
            <mxPoint x="440" y="2360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-24" value="execute_model" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-23">
          <mxGeometry x="0.0544" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-36" value="kv_put" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1" target="wCXgad1K8o2VB7u_Wapi-13">
          <mxGeometry width="80" relative="1" as="geometry">
            <mxPoint x="519.5" y="2450" as="sourcePoint" />
            <mxPoint x="662" y="2450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-37" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="405" y="2430" as="sourcePoint" />
            <mxPoint x="519.5" y="2430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-38" value="save_caches" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-37">
          <mxGeometry x="0.0544" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-39" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;" edge="1" parent="1" target="wCXgad1K8o2VB7u_Wapi-14">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="140" y="2480" as="sourcePoint" />
            <mxPoint x="280" y="2480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-40" value="generate request" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-39">
          <mxGeometry x="-0.0143" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-41" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="639" y="2500" as="sourcePoint" />
            <mxPoint x="879" y="2500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-42" value="build_connector_metadata" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-41">
          <mxGeometry x="-0.2651" y="1" relative="1" as="geometry">
            <mxPoint x="32" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-43" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;" edge="1" parent="1" target="wCXgad1K8o2VB7u_Wapi-50">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="639" y="2540" as="sourcePoint" />
            <mxPoint x="754" y="2540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-44" value="execute_model" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-43">
          <mxGeometry x="0.0544" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-53" value="get_caches" style="html=1;verticalAlign=bottom;endArrow=block;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry x="0.0044" width="80" relative="1" as="geometry">
            <mxPoint x="765" y="2560" as="sourcePoint" />
            <mxPoint x="878.5" y="2560" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-54" value="" style="html=1;verticalAlign=bottom;labelBackgroundColor=none;endArrow=block;endFill=1;rounded=0;entryX=0.49;entryY=0.686;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="878.5" y="2590" as="sourcePoint" />
            <mxPoint x="1035" y="2590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-55" value="kv_get" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="wCXgad1K8o2VB7u_Wapi-54">
          <mxGeometry x="-0.0143" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-56" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;entryX=0.51;entryY=0.877;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="wCXgad1K8o2VB7u_Wapi-50" target="wCXgad1K8o2VB7u_Wapi-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="760" y="2700" as="sourcePoint" />
            <mxPoint x="680" y="2700" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-57" value="Client" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;" vertex="1" parent="1">
          <mxGeometry x="30" y="2670" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-58" value="return" style="html=1;verticalAlign=bottom;endArrow=open;dashed=1;endSize=8;curved=0;rounded=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="142.37" y="2699.5" as="sourcePoint" />
            <mxPoint x="59.997659574467995" y="2699.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-62" value="" style="ellipse;html=1;shape=startState;fillColor=#000000;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="504.5" y="2923" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-63" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-62" parent="1" target="wCXgad1K8o2VB7u_Wapi-64">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="519.5" y="3013" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-64" value="health check" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="459.5" y="3020" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-65" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-64" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="519.5" y="3100" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-66" value="" style="shape=line;html=1;strokeWidth=6;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="289.5" y="3200" width="460" height="10" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-69" value="health check for&lt;div&gt;E-0&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="220" y="3280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-70" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-69" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="519.5" y="3380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-71" value="health check for&lt;div&gt;E-(X-1)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="380" y="3280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-72" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" parent="1" source="wCXgad1K8o2VB7u_Wapi-71">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="519.5" y="3380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-73" value="&lt;b&gt;...&lt;/b&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="330" y="3285" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-74" value="health check for&lt;div&gt;PD-0&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="539" y="3280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-75" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-74" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="519.5" y="3380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-76" value="health check for&lt;div&gt;PD-(Y-1)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="699" y="3280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-77" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-76" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="519.5" y="3380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-78" value="&lt;b&gt;...&lt;/b&gt;" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="649" y="3285" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-83" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="wCXgad1K8o2VB7u_Wapi-66" target="wCXgad1K8o2VB7u_Wapi-69">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="519.5" y="3270" as="targetPoint" />
            <mxPoint x="519.5" y="3210" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-84" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;exitX=0.25;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="wCXgad1K8o2VB7u_Wapi-66" target="wCXgad1K8o2VB7u_Wapi-71">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="370" y="3410" as="targetPoint" />
            <mxPoint x="370" y="3350" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-85" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;exitX=0.75;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="wCXgad1K8o2VB7u_Wapi-66" target="wCXgad1K8o2VB7u_Wapi-74">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="570" y="3325" as="targetPoint" />
            <mxPoint x="610" y="3250" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-86" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="1" source="wCXgad1K8o2VB7u_Wapi-66" target="wCXgad1K8o2VB7u_Wapi-76">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="655" y="3305" as="targetPoint" />
            <mxPoint x="620" y="3230" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-88" value="timeout" style="rhombus;whiteSpace=wrap;html=1;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="479" y="3380" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-89" value="no" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-88" parent="1" target="wCXgad1K8o2VB7u_Wapi-64">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="659.5" y="3300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="860" y="3400" />
              <mxPoint x="860" y="3040" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-90" value="yes" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;verticalAlign=top;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-88" parent="1">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="519" y="3480" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-91" value="move instance to unhealthy list" style="rounded=1;whiteSpace=wrap;html=1;arcSize=40;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="459.5" y="3480" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-92" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-91" parent="1" target="wCXgad1K8o2VB7u_Wapi-64">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="520" y="3480" as="targetPoint" />
            <Array as="points">
              <mxPoint x="860" y="3500" />
              <mxPoint x="860" y="3040" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-93" value="graceful exit" style="rhombus;whiteSpace=wrap;html=1;fontColor=#000000;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="480" y="3100" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-94" value="yes" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-93" parent="1" target="wCXgad1K8o2VB7u_Wapi-96">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="660" y="3120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-95" value="no" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;verticalAlign=top;endArrow=open;endSize=8;strokeColor=#ff0000;rounded=0;" edge="1" source="wCXgad1K8o2VB7u_Wapi-93" parent="1">
          <mxGeometry x="-1" relative="1" as="geometry">
            <mxPoint x="520" y="3200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="wCXgad1K8o2VB7u_Wapi-96" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" vertex="1" parent="1">
          <mxGeometry x="645" y="3105" width="30" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
